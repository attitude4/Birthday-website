<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Surprise!</title>
  <link rel="stylesheet" href="style.css">
  <style>
    #fireworksCanvas { position: fixed; top:0; left:0; pointer-events:none; z-index:9999; }
    #typed-message { font-size:24px; white-space:pre-wrap; text-align:center; margin:20px; }
  </style>
</head>
<body>
  <canvas id="fireworksCanvas"></canvas>
  <div class="container">
    <h1>ðŸŽ‰ Surprise! ðŸŽ‰</h1>
    <p id="typed-message"></p>
    <iframe width="320" height="180" src="https://www.youtube.com/embed/QtXby3twMmI" frameborder="0" allowfullscreen></iframe>
    <br><br>
    <a href="gallery.html"><button>See Our Memories ðŸ“¸</button></a>
  </div>
  <script>
const name = localStorage.getItem("bestieName") || "Bestie";
const message = `Happy Birthday, ${name}! ðŸŽ‚ðŸ’–\\nYou're the most amazing bestie ever!\\nHope your day is as fabulous as you are! ðŸŽˆ`;
let i = 0;
function typeWriter(){
  if(i < message.length){
    document.getElementById("typed-message").textContent += message.charAt(i++);
    setTimeout(typeWriter, 50);
  }
}
typeWriter();
const canvas = document.getElementById('fireworksCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth; canvas.height = window.innerHeight;
function drawFirework(x,y,r,color){
  for(let j=0;j<20;j++){
    const angle = (Math.PI*2/20)*j;
    ctx.beginPath();
    ctx.moveTo(x,y);
    ctx.lineTo(x + r*Math.cos(angle), y + r*Math.sin(angle));
    ctx.strokeStyle = color;
    ctx.stroke();
  }
}
function animateFireworks(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let k=0;k<5;k++){
    drawFirework(
      Math.random()*canvas.width,
      Math.random()*canvas.height / 2,
      Math.random()*50 + 30,
      `hsl(${Math.random()*360},100%,70%)`
    );
  }
}
setInterval(animateFireworks, 800);
  </script>
</body>
</html>
